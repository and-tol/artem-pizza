{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport valid from 'card-validator';\nconst PAYMENT_CARD = Object.freeze({\n  'american-express': 'Amex',\n  Bancontact: 'Bancontact',\n  'diners-club': 'DinersClub',\n  discover: 'Discover',\n  elo: 'Elo',\n  maestro: 'Maestro',\n  mastercard: 'MasterCard',\n  UnionPay: 'UnionPay',\n  visa: 'Visa',\n  jcb: 'JCB',\n  unionpay: 'UnionPay',\n  mir: 'Mir',\n  hiper: 'Hiper',\n  hipercard: 'Hipercard'\n});\n\nconst normalizeCardNumber = (value = '') => {\n  var _value$replace$match;\n\n  return ((_value$replace$match = value.replace(/\\s/g, '').match(/.{1,4}/g)) === null || _value$replace$match === void 0 ? void 0 : _value$replace$match.join(' ').substr(0, 19)) || '';\n};\n\nexport const useValidCard = (number = '') => {\n  _s();\n\n  let сardNumber = '';\n  сardNumber = normalizeCardNumber(number);\n  const [cardImageName, setCardImageName] = useState('');\n  let CardNumberValidation = valid.number(сardNumber);\n  useEffect(() => {\n    var _CardNumberValidation;\n\n    setCardImageName(`${PAYMENT_CARD[(_CardNumberValidation = CardNumberValidation.card) === null || _CardNumberValidation === void 0 ? void 0 : _CardNumberValidation.type]}`);\n  }, [CardNumberValidation]);\n  return {\n    normalizedCardNumber: сardNumber,\n    cardImageName,\n    CardNumberValidation\n  };\n};\n\n_s(useValidCard, \"dFkrPnIGX2fDMYqQUGzp5dSKaGk=\");","map":{"version":3,"sources":["F:/artem-pizza/client/src/share/hooks/useValidCard.js"],"names":["useState","useEffect","valid","PAYMENT_CARD","Object","freeze","Bancontact","discover","elo","maestro","mastercard","UnionPay","visa","jcb","unionpay","mir","hiper","hipercard","normalizeCardNumber","value","replace","match","join","substr","useValidCard","number","сardNumber","cardImageName","setCardImageName","CardNumberValidation","card","type","normalizedCardNumber"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAEA,MAAMC,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAc;AACjC,sBAAoB,MADa;AAEjCC,EAAAA,UAAU,EAAE,YAFqB;AAGjC,iBAAe,YAHkB;AAIjCC,EAAAA,QAAQ,EAAE,UAJuB;AAKjCC,EAAAA,GAAG,EAAE,KAL4B;AAMjCC,EAAAA,OAAO,EAAE,SANwB;AAOjCC,EAAAA,UAAU,EAAE,YAPqB;AAQjCC,EAAAA,QAAQ,EAAE,UARuB;AASjCC,EAAAA,IAAI,EAAE,MAT2B;AAUjCC,EAAAA,GAAG,EAAE,KAV4B;AAWjCC,EAAAA,QAAQ,EAAE,UAXuB;AAYjCC,EAAAA,GAAG,EAAE,KAZ4B;AAajCC,EAAAA,KAAK,EAAE,OAb0B;AAcjCC,EAAAA,SAAS,EAAE;AAdsB,CAAd,CAArB;;AAiBA,MAAMC,mBAAmB,GAAG,CAACC,KAAK,GAAG,EAAT,KAAgB;AAAA;;AAC1C,SACE,yBAAAA,KAAK,CACFC,OADH,CACW,KADX,EACkB,EADlB,EAEGC,KAFH,CAES,SAFT,+EAGIC,IAHJ,CAGS,GAHT,EAIGC,MAJH,CAIU,CAJV,EAIa,EAJb,MAIoB,EALtB;AAOD,CARD;;AAUA,OAAO,MAAMC,YAAY,GAAG,CAACC,MAAM,GAAG,EAAV,KAAiB;AAAA;;AAC3C,MAAIC,UAAU,GAAG,EAAjB;AAEAA,EAAAA,UAAU,GAAGR,mBAAmB,CAACO,MAAD,CAAhC;AAEA,QAAM,CAACE,aAAD,EAAgBC,gBAAhB,IAAoC5B,QAAQ,CAAC,EAAD,CAAlD;AAEA,MAAI6B,oBAAoB,GAAG3B,KAAK,CAACuB,MAAN,CAAaC,UAAb,CAA3B;AAEAzB,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACd2B,IAAAA,gBAAgB,CAAE,GAAEzB,YAAY,0BAAC0B,oBAAoB,CAACC,IAAtB,0DAAC,sBAA2BC,IAA5B,CAAkC,EAAlD,CAAhB;AACD,GAFQ,EAEN,CAACF,oBAAD,CAFM,CAAT;AAIA,SAAO;AACLG,IAAAA,oBAAoB,EAAEN,UADjB;AAC4BC,IAAAA,aAD5B;AAELE,IAAAA;AAFK,GAAP;AAID,CAjBM;;GAAML,Y","sourcesContent":["import { useState, useEffect } from 'react';\nimport valid from 'card-validator';\n\nconst PAYMENT_CARD = Object.freeze({\n  'american-express': 'Amex',\n  Bancontact: 'Bancontact',\n  'diners-club': 'DinersClub',\n  discover: 'Discover',\n  elo: 'Elo',\n  maestro: 'Maestro',\n  mastercard: 'MasterCard',\n  UnionPay: 'UnionPay',\n  visa: 'Visa',\n  jcb: 'JCB',\n  unionpay: 'UnionPay',\n  mir: 'Mir',\n  hiper: 'Hiper',\n  hipercard: 'Hipercard',\n});\n\nconst normalizeCardNumber = (value = '') => {\n  return (\n    value\n      .replace(/\\s/g, '')\n      .match(/.{1,4}/g)\n      ?.join(' ')\n      .substr(0, 19) || ''\n  );\n};\n\nexport const useValidCard = (number = '') => {\n  let сardNumber = '';\n\n  сardNumber = normalizeCardNumber(number);\n\n  const [cardImageName, setCardImageName] = useState('');\n\n  let CardNumberValidation = valid.number(сardNumber);\n\n  useEffect(() => {\n    setCardImageName(`${PAYMENT_CARD[CardNumberValidation.card?.type]}`);\n  }, [CardNumberValidation]);\n\n  return {\n    normalizedCardNumber: сardNumber,cardImageName,\n    CardNumberValidation,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}
!function(e,s){"object"==typeof exports&&"undefined"!=typeof module?s(exports,require("react-hook-form")):"function"==typeof define&&define.amd?define(["exports","react-hook-form"],s):s((e="undefined"!=typeof globalThis?globalThis:e||self).ReactHookFormResolvers={},e.ReactHookForm)}(this,(function(e,s){"use strict";class t extends TypeError{constructor(e,s){const{message:t,...r}=e,{path:n}=e;let a;super(0===n.length?t:"At path: "+n.join(".")+" -- "+t),Object.assign(this,r),this.name=this.constructor.name,this.failures=()=>(a||(a=[e,...s]),a)}}function r(e){const{done:s,value:t}=e.next();return s?void 0:t}function*n(e,s){if("string"==typeof e)yield s.fail({message:e});else{if(!0===e)return;!1===e?yield s.fail():yield*e}}function a(e,s,n={}){n.coerce&&(e=s.coercer(e));const a=o(e,s),c=r(a);if(c){return[new t(c,a),void 0]}return[void 0,e]}function*o(e,s,t=[],a=[]){const c={value:e,struct:s,branch:a,path:t,check:(e,s,r,n)=>o(e,s,void 0!==r?[...t,n]:t,void 0!==r?[...a,r]:a),fail(r={}){"string"==typeof r&&(r={message:r});const{type:n}=s;let{message:o,refinement:c}=r;return o||(o="Expected a value of type `"+n+"`"+(c?" with refinement `"+c+"`":"")+(t.length?" for `"+t.join(".")+"`":"")+", but received: `"+function(e){return"string"==typeof e?JSON.stringify(e):""+e}(e)+"`"),{...r,value:e,type:n,refinement:c,message:o,key:t[t.length-1],path:t,branch:[...a,e]}}},i=n(s.validator(e,c),c),u=r(i);u?(yield u,yield*i):yield*n(s.refiner(e,c),c)}var c=e=>e.reduce(((e,s,t)=>`${e}${"string"==typeof s?`${t>0?".":""}${s}`:`[${s}]`}`),"").toString();const i=(e,t)=>e.failures().reduce(((e,{path:r,message:n="",type:a})=>{const o=c(r);return Object.assign(Object.assign({},e),r?e[o]&&t?{[o]:s.appendErrors(o,t,e,a||"",n)}:{[o]:e[o]||Object.assign({message:n,type:a},t?{types:{[a||""]:n||!0}}:{})}:{})}),{}),u=(e,t)=>Array.isArray(e.details)?e.details.reduce(((e,{path:r,message:n="",type:a})=>{const o=c(r);return Object.assign(Object.assign({},e),r?e[o]&&t?{[o]:s.appendErrors(o,t,e,a,n)}:{[o]:e[o]||Object.assign({message:n,type:a},t?{types:{[a]:n||!0}}:{})}:{})}),{}):[],l=(e,t)=>e.isEmpty?{}:e.errors.reduce(((e,{path:r,message:n,code:a})=>{const o=c(r);return Object.assign(Object.assign({},e),r?e[o]&&t?{[o]:s.appendErrors(o,t,e,a,n)}:{[o]:e[o]||Object.assign({message:n,type:a},t?{types:{[a]:n||!0}}:{})}:{})}),{}),g=(e,s)=>Object.entries(e).reduce(((e,[t,r])=>Object.assign(Object.assign({},e),{[t]:Object.assign({type:"",message:r[0]},s?{types:r.reduce(((e,s,t)=>Object.assign(Object.assign({},e),{[t]:s})),{})}:{})})),{});e.joiResolver=(e,t={abortEarly:!1})=>async(r,n,a=!1)=>{try{return{values:await e.validateAsync(r,Object.assign({},t)),errors:{}}}catch(e){return{values:{},errors:s.transformToNestObject(u(e,a))}}},e.superstructResolver=(e,t)=>(r,n,o=!1)=>{const[c,u]=a(r,e,t);return null!=c?{values:{},errors:s.transformToNestObject(i(c,o))}:{values:u,errors:{}}},e.vestResolver=(e,t={},r=!1)=>async t=>{const n=(a=e,(...e)=>new Promise((s=>a(...e).done(s))));var a;const o=await n(t),c=o.getErrors();return o.hasErrors()?{values:{},errors:s.transformToNestObject(g(c,r))}:{values:t,errors:{}}},e.yupResolver=(e,t={abortEarly:!1})=>async(r,n,a=!1)=>{try{return t.context&&process.env.NODE_ENV,{values:await e.validate(r,Object.assign(Object.assign({},t),{context:n})),errors:{}}}catch(e){const t=((e,s)=>Array.isArray(e.inner)&&e.inner.length?e.inner.reduce(((e,{path:t,message:r,type:n})=>{const a=e[t]&&e[t].types||{},o=t||n;return Object.assign(Object.assign({},e),o?{[o]:Object.assign(Object.assign({},e[o]||{message:r,type:n}),s?{types:Object.assign(Object.assign({},a),{[n]:a[n]?[...[].concat(a[n]),r]:r})}:{})}:{})}),{}):{[e.path]:{message:e.message,type:e.type}})(e,a);return{values:{},errors:s.transformToNestObject(t)}}},e.zodResolver=(e,t)=>async(r,n,a=!1)=>{const o=e.safeParse(r,t);return o.success?{values:o.data,errors:{}}:{values:{},errors:s.transformToNestObject(l(o.error,a))}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
